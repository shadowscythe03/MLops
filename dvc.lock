schema: '2.0'
stages:
  scrape:
    cmd: python src/scraping/scrape_articles.py
    deps:
    - path: src/scraping/scrape_articles.py
      hash: md5
      md5: 98ef7d5e911021dcdfaed3d7586b7b95
      size: 2165
    params:
      params.yaml:
        scraping.feed_urls:
        - https://feeds.bbci.co.uk/news/rss.xml
        - https://www.reuters.com/rssFeed/topNews
        - https://www.aljazeera.com/xml/rss/all.xml
    outs:
    - path: data/raw/articles.json
      hash: md5
      md5: 895338336f4cc611f730683144051918
      size: 193754
    - path: metrics.json
      hash: md5
      md5: 0eb86a31f4cf85be6dd387773e2b19b3
      size: 100
  preprocess:
    cmd: python src/preprocessing/clean_articles.py
    deps:
    - path: data/raw/articles.json
      hash: md5
      md5: 895338336f4cc611f730683144051918
      size: 193754
    - path: src/preprocessing/clean_articles.py
      hash: md5
      md5: 88f9a195e7e01b34184b30fb6d8375cd
      size: 1320
    outs:
    - path: data/processed/articles_cleaned.json
      hash: md5
      md5: 025278a119428b0fbc5789c1fcdb0263
      size: 187302
  index:
    cmd: python src/rag/build_index.py
    deps:
    - path: data/processed/articles_cleaned.json
      hash: md5
      md5: 025278a119428b0fbc5789c1fcdb0263
      size: 187302
    - path: src/rag/build_index.py
      hash: md5
      md5: 4d30205f0427501f4af1c2899d1d6b2f
      size: 3021
    outs:
    - path: data/processed/index
      hash: md5
      md5: d235a8833083535d134ad6ec526f62b8.dir
      size: 1105818
      nfiles: 3
